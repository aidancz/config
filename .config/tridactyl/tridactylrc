" vim: filetype=vim

" tridactyl has a welcome page, kinda like info's "Top" node
" it is the default "newtab" page for tridactyl
" for simplicity, we change the "newtab" page to a blank page:
set newtab about:blank
" but use `<c-h>` to view it anytime:
bind <C-h> composite unset newtab ; tabopen ; sleep 100 ; set newtab about:blank

" tridactyl has 2 concepts:
" 1. excmd
" 2. setting
" excmd doc: `:help`
" setting doc: `:help` -> the 2nd paragraph, "here"
" NOTE: bindings are some settings: nmaps, browsermaps...

" the help excmd:
" `:h -e`: excmd
" `:h -s`: setting
" `:h -b`: binding (however, this can only view nmaps, the general way is using `:bind --mode=<mode>`)
" the apropos excmd is a wrapper for help, use fuzzy completions instead

" getting started: `:tutor`

" reset config: `:sanitise tridactyllocal`
" https://github.com/tridactyl/tridactyl/issues/1542

" glacambre is a maintainer of tridactyl, this is his tridactylrc:
" https://github.com/glacambre/.dotfiles/blob/master/default/.config/tridactyl/tridactylrc

" # setting

colors mytheme

set hintchars kdjflsieowmv
set editorcmd st -e nvim

" # keys

" ## subconfigs

" bindurl ^https://github.com i hint -Vc .AppHeader-searchButton
" https://github.com/tridactyl/tridactyl/blob/master/.tridactylrc

" ## browsermaps

bind --mode=browser <C-e> escapehatch

" ## exmaps

unbind --mode=ex <Space>
" https://github.com/tridactyl/tridactyl/issues/4638

bind --mode=ex <C-f> ex.insert_completion

" ## vmaps

unbind --mode=visual s
unbind --mode=visual S

" ## inputmaps

bind --mode=input <C-i> editor

" ## nmaps

unbind <C-e>
unbind <C-y>
unbind <C-f>
unbind <C-b>

bind <F1> q
bind <F2><F1> qa
bind <C-F1> composite sanitise tridactyllocal; fillcmdline_tmp 3000 sanitise tridactyllocal
bind <C-v> nmode ignore 1 mode normal
bind i focusinput -l
bind v hint -h

bind j tabnext
bind k tabprev
" bind l tabmove +1
" bind h tabmove -1
bind h back
bind l forward

bind f scrollpage 0.9
bind d scrollpage -0.9
bind g scrollto 100
bind s scrollto 0

bind . repeat

bind e fillcmdline tabopen
bind l fillcmdline tab

bind o hint
bind w hint -t

bind t tabduplicate

bind y. clipboard yank
bind yo hint -y
bind y# hint -#
bind yi hint -p

bind p clipboard tabopen

bind m gobble 1 markadd
bind ` gobble 1 markjump
